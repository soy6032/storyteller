<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/include/head.html :: fragment-head}"></head>
<link th:href="@{/css/ebook/list.css}" rel="stylesheet" type="text/css" />
<body>
<div class="mainPageBody pb-4">
    <div class="header">
        <div>
            <img th:src="@{/img/icon_back-bt@2x.png}" class="headerBackBtn" alt="화살표" onclick="history.back()">
        </div>
        <h1>모의고사</h1>
    </div>

    <div class="py-20">
        <div class="exFirstTitle">
            <p class="exFirstTitleName">
                이순신 교육 1강 모의고사
            </p>
            <p class="exFirstSubTitle">문제의 정답을 아래 객관식 답안에서 선택하세요.</p>
        </div>

        <div class="exTitle">
            <p class="exTitleName">
                Q<span th:text="${num}"></span>. <span th:text="${detail.question}"></span>
            </p>
        </div>
        <div class="exLine"></div>
        <div class="radio-option" th:each="item, listStat : ${lists}">
            <input type="radio"
                   th:id="'option' + ${listStat.index}"
                   name="options"
                   th:value="${item.examinationSelectNum}">
            <label th:for="'option' + ${listStat.index}">
                <img class="radio-img" src="../../img/icon_check_off.png" alt="라디오 버튼 이미지">
                <span th:text="${item.examinationSelectTitle}">1</span>
            </label>
        </div>
    </div>
</div>

<script>
    // 모든 라디오 옵션 컨테이너
    let radioContainers = document.querySelectorAll('.radio-option');

    // 각 라디오 옵션 컨테이너에 대해 이벤트 리스너 등록
    radioContainers.forEach(function(container) {
        container.addEventListener('click', function() {
            // 클릭된 라디오 버튼을 가져옴
            let radioBtn = this.querySelector('input[type="radio"]');

            // 현재 라디오 버튼이 이미 선택된 상태 확인
            let isChecked = radioBtn.checked;

            // 클릭된 라디오 버튼이 이미 선택된 경우에는 아무 동작하지 않음
            if (!isChecked) {
                // 모든 라디오 버튼 이미지를 기본 이미지로 설정
                let radioImgs = document.querySelectorAll('.radio-option .radio-img');
                radioImgs.forEach(function(img) {
                    img.src = '../../img/icon_check_off.png';
                });

                // 선택된 라디오 버튼의 이미지 변경
                let radioImg = this.querySelector('.radio-img');
                radioImg.src = '../../img/icon_check_on.png';

                // 모든 라디오 버튼의 체크 상태 해제
                let allRadioBtns = document.querySelectorAll('.radio-option input[type="radio"]');
                allRadioBtns.forEach(function(btn) {
                    btn.checked = false;
                });

                // 클릭된 라디오 버튼의 체크 상태 설정
                radioBtn.checked = true;

                // 체크된 라디오 버튼의 부모 요소인 .radio-option의 테두리 색상을 변경
                radioContainers.forEach(function(radioContainer) {
                    if (radioContainer.querySelector('input[type="radio"]').checked) {
                        radioContainer.style.borderColor = '#4B3F24';
                    } else {
                        radioContainer.style.borderColor = ''; // 다른 요소의 테두리 색상 초기화
                    }
                });
            }

            // 이미지가 작아지는 동작을 막음
            return false;
        });
    });
</script>
</body>
</html>
